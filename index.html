<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIOT</title>
    <link rel="stylesheet" href="./src/styles/index.css">
</head>
<body>
    <!-- container do conteúdo principal da página -->
    <main>
        <!-- Formulario de requisição - envia os dados para o processamento das informações no "valida.js" -->
        <form id="loginForm" class="login section-area-left" >
            <!-- Wrapper - recorte de sessao -->
            <div class="wrapper">
                <!-- Logo da empresa - destaque de imagem no formulario -->
                <img class="login_logo" src="./src/img/logo.png" alt="logo riot">
                <!-- Titulo do formulario -->
                <h1 class="login_titulo">Fazer Login</h1>

                <!-- Email Place - espaço reservado para input email -->
                <label class="login_label" for="email">
                    <span>E-mail</span>
                    <input id="email" name="email" class="input email" type="email" required>
                </label>
                <!-- Password Place - espaço reservado para input senha -->
                <label class="login_label" for="password">
                    <span>Senha</span>
                    <input id="password" name="password" class="input password" type="password" required>
                    <small>esqueceu a senha?</small>
                </label>

                <!-- Area de acesso via links sociais (possivél implementação)-->
                <section class="login_redes">
                    <!-- Facebook - Login -->
                    <a href="https://github.com/Cloves-Neto/login-logout-js" target="_blank" rel="noopener noreferrer">
                        <img src="./src/img/facebook.png" alt="facebook logo">
                    </a>

                    <!-- Google - Login -->
                    <a href="https://github.com/Cloves-Neto/login-logout-js" target="_blank" rel="noopener noreferrer">
                        <img src="./src/img/google.png" alt="google logo">
                    </a>

                    <!-- Apple - Login -->
                    <a href="https://github.com/Cloves-Neto/login-logout-js" target="_blank" rel="noopener noreferrer">
                        <img src="./src/img/apple.jpg" alt="apple logo">
                    </a>
                </section>
            </div>

            <!-- Wrapper - recorte de sessao -->
            <div class="wrapper">
                <!-- Botão submit que envia as informações de login -->
                <button class="login_button" onclick="validaDados()" title="Entrar" disabled>
                    <ion-icon name="arrow-forward-outline"></ion-icon>
                </button>
                <!-- Link de redidirecionamento para criar uma conta -->
                <a href="registro.html" class="login_link">ainda não tem uma conta? <span>criar conta</span></a>
            </div>
        </form>
        <!-- Add wallpaper pelo css; Essa sessão será apenas ilustrativa e não terá uma função definida específica-->
        <div class="wallpaper section-area-right"></div>
    </main>

    <!-- Import de biblioteca de ícones (ion-icon) -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <!-- Index.js -->
    <script src="./src/scripts/index.js"></script>
    <script>
        // Verifica se tem uma sessão com credenciais salva e redireciona para a dashboard
        const usuario = sessionStorage.getItem('usuario');
        const nome = sessionStorage.getItem('nome');
        if (usuario && nome) {
            window.location.href = './src/paginas/dashboard.html'; 
        }
    

    // Desestruturação do objeto `dados`
    const [dado_nome, dado_email, dado_senha] = ['Jhonny Walter', 'teste@email.com', 'teste123'];

    function validaDados() {
        const recieve_email = document.getElementById('email').value;
        const recieve_senha = document.getElementById('password').value;

        // Simulação de verificação de login
        /* Em um cenário real as credenciais são verificadas no banco de dados */
        if (recieve_email === dado_email && recieve_senha === dado_senha) {
            window.location = './src/paginas/dashboard.html';

            // Armazenar os detalhes do usuário no sessionStorage
            sessionStorage.setItem('usuario', JSON.stringify({ email: dado_email }));
            sessionStorage.setItem('nome', JSON.stringify({ nome: dado_nome }));
        } else {
            window.location.href = 'index.html';
        }
    };

    </script>
</body>
</html>